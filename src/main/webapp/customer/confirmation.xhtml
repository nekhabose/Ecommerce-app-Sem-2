<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="jakarta.faces.facelets"
    xmlns:h="jakarta.faces.html"
    xmlns:f="jakarta.faces.core"
    template="../WEB-INF/templates/authNtemplate.xhtml">

    <ui:define name="title">
        Order Confirmation
    </ui:define>

    <ui:define name="content">
        <div class="mb-3">
            <h2>Thank you for your purchase!</h2>
            <h:outputText value="Your order has been successfully placed." class="form-text" />
            <h:outputText value="Order ID: #{confirmationController.confirmedCart.id}" /><br/>
            <h:outputText value="Order Date: #{confirmationController.confirmedCart.orderDate}" /><br/><br/>
        </div>

        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Product Name</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                <ui:repeat value="#{confirmationController.confirmedCart.orderLines}" var="line">
                    <tr>
                        <td>#{line.product.name}</td>
                        <td>#{line.quantity}</td>
                        <td>#{line.product.price}</td>
                        <td>#{line.product.price * line.quantity}</td>
                    </tr>
                </ui:repeat>
            </tbody>
        </table>

        <h4>Total Amount: #{confirmationController.totalAmount}</h4>
        
        <br/>
        <h:link outcome="welcome.xhtml" value="Return to Dashboard" class="btn btn-secondary" />
    </ui:define>

</ui:composition>
