<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="jakarta.faces.facelets"
                template="/WEB-INF/templates/template.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:define name="title">
       Login Page
    </ui:define>

   <ui:define name="content">
        
        <h:messages globalOnly="true" style="color: red;" />
        
        <h:form>
            <p>
                <h:panelGroup layout="block">
                    <h:outputLabel value="Username: " for="userName" />
                    <h:inputText binding="#{uname}" id="userName" 
                                 styleClass="#{uname.valid ? 'form-control' : 'form-control is-invalid'}"
                                 value="#{loginController.user.username}"/>
                    <h:message for="userName" errorStyle="color: red" />
                </h:panelGroup>
            </p>

            <p>
                <h:panelGroup layout="block">
                    <h:outputLabel value="Password:" for="password" />
                    <h:inputSecret binding="#{passwd}" id="password" 
                                   styleClass="#{passwd.valid ? 'form-control' : 'form-control is-invalid'}"
                                   value="#{loginController.user.password}"/>
                    <h:message for="password" errorStyle="color: red" />
                </h:panelGroup>
            </p>
            
            <h:commandButton value="Login" action="#{loginController.doLogin()}"/>
            
        </h:form>
        
        <h:link outcome="signup.xhtml" value="Don't have an account? Sign up here!" class="mt-3 d-block text-center" />


    </ui:define>

</ui:composition>
